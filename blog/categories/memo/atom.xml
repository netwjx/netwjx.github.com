<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[类别: Memo | netwjx]]></title>
  <link href="http://netwjx.github.com/blog/categories/memo/atom.xml" rel="self"/>
  <link href="http://netwjx.github.com/"/>
  <updated>2012-11-04T18:32:16+08:00</updated>
  <id>http://netwjx.github.com/</id>
  <author>
    <name><![CDATA[netwjx]]></name>
    <email><![CDATA[netwjx@mail.com]]></email>
    <uri>http://netwjx.github.com/</uri>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>
  <icon>/favicon.png</icon>
  <subtitle><![CDATA[混乱与有序]]></subtitle>

  
  <entry>
    <title type="html"><![CDATA[笔记本购买备忘]]></title>
    
      <category term="Memo" />
    
      <category term="Notebook" />
    
    <link href="http://netwjx.github.com/blog/2012/10/12/buy-notebook-memo/"/>
    <author>
      <name><![CDATA[netwjx]]></name>
      <uri>http://netwjx.github.com/</uri>
    </author>
    <published>2012-10-12T21:58:00+08:00</published>
    <updated>2012-10-12T21:58:00+08:00</updated>
    <id>http://netwjx.github.com/blog/2012/10/12/buy-notebook-memo</id>
    <content type="html"><![CDATA[<p>很早就想过要对笔记本购买做个备忘, 方便自己也方便别人查阅, 前几天列了个大纲, 现在把具体的填完.</p>

<p>这不是针对特定品牌, 特定型号的备忘, 只是对购买笔记本中注意点的记录, 从软硬件, 到卖场交易等等.</p>

<h2>更新日志</h2>

<p>最近的修改在列表开始</p>

<ol>
<li>2012-10-16  增加验机篇章</li>
</ol>


<h2>外观</h2>

<p>购买时需要首先确定一些重要的外观需求, 比如大小, 接口设计, 键盘.</p>

<h3>屏幕</h3>

<p>屏幕从整体上决定了后面要说的体积和重量, 所以放在最开始.</p>

<p>屏幕尺寸, 14英寸的为主, 15英寸的会有额外的小键盘区域, 13及更低的<strong>可能会没有光驱</strong>.</p>

<p>屏幕长宽比, 之前的都是4:3的, 现在的主要是16:9和16:10, 这个影响最大的是<strong>打算另外买笔记本包的时候</strong>, 一定要确定电脑包的长度是否足够, 避免到时候不能用.</p>

<p>屏幕解析度, 目前主流是1366x768, 13 14 15英寸多数都一样, 未来可能会有解析度更高的屏幕出现.</p>

<p>液晶屏幕面板, 现在主要是TN面板, 主要响应速度快, 也有一些是IPS面板, 显示色彩更多, 更逼真, 就是响应慢点, 可能会有轻微拖尾.</p>

<p>哑光和镜面屏, 主要是在背后有强光的时候, 屏幕是否会反光. 另外, 哑光屏仔细看可能会看到很多彩色的点, 镜面屏一般比较清澈.</p>

<!-- more -->


<h3>体积和重量</h3>

<p>上段也大概提到了, 屏幕尺寸和比例决定了长宽, 一般14英寸, 16:9的笔记本长宽分别为35cm 24cm左右. 其它尺寸和长宽比的可以自行估计.</p>

<p>厚度按照最厚的地方算, 一般在2cm-3.5cm之间.</p>

<p>重量一般14英寸的笔记本带上电池在2-2.5kg之间, 如果再加电源的话, 在3kg左右.</p>

<h3>材质</h3>

<p>主要外壳部分一般是工程塑料, 磨砂或镜面处理. 掌托部分有些可能会使用金属拉丝的工艺, 当然仍旧是工程塑料的材质.</p>

<p>磨砂的反光少, 镜面的沾指纹看起来很明显, 但是也容易擦. 表面有光泽的样子比较吸引人.</p>

<p>另一类材料是镁铝合金, 价格会高一些, 这个手摸就能分辨出来.</p>

<h3>周边接口</h3>

<p>笔记本的多数接口都在侧面, 接口主要考虑的是位置, 下面所说的<strong>前是指面向使用者的侧面</strong>, <strong>后就是面向前方的侧面</strong>.</p>

<p>下面的条目只是说好的设计怎么样, 一般很难能同时满足所有的, 实际应当根据自己的主要需求进行取舍.</p>

<ul>
<li>电源和网线可能是经常使用的接口, 应当放到的左右两边靠后侧的位置, 有些会直接设计到后侧.

<ul>
<li>选择的时候可以考虑自己的使用环境选择某一侧接口.</li>
</ul>
</li>
<li>多数人都是右撇子, 一般会随机赠送一个有线鼠标, 所以最好<strong>右侧有一个在靠后的USB接口</strong>用于连接鼠标.</li>
<li>USB接口是用的最多的, 好的设计会把两个接口距离设计的远点. 免得有些USB设备太大挡住了其它的接口.</li>
<li>耳麦接口有时可能是一体兼容接口, 买耳麦的话就不能同时使用耳机和麦克风了, 不过一般都是接耳机.</li>
<li>有时可能会考虑外接显示器, 或者是连接投影仪使用, VGA和HDMI接口出来的线应避免正好对着出风口.</li>
<li>散热器出风口应该避免对着连接附近接口的线, 否则会把线表面吹热的.

<ul>
<li>出风口一定不能对着前侧, 或者对着右侧的手吹.</li>
</ul>
</li>
</ul>


<h3>转轴</h3>

<p>一般分下沉式和上浮式, 下沉式的转轴比较多一些, 原因多种多样, 成本, 美观, 适用程度.</p>

<ul>
<li>下沉式转轴成本低点, 可能现在已经差距不明显了.</li>
<li>下沉式转轴合起来之后笔记本正面基本看不到铰链, 比较简洁美观.</li>
<li>下沉式转轴无法把屏幕打开到和键盘面平行, 即180度, 而上浮式转轴一般能做到, 当然这种场景不是很多.</li>
<li>下沉式转轴会让屏幕挡住后侧, 这一侧基本就不能有什么接口了, 有些散热器出风口对着这个方向, 结果是屏幕底沿被吹的比较热.</li>
</ul>


<h3>键盘</h3>

<p>鼠标和键盘作为操作笔记本的主要途径, 鼠标可以另配, 键盘就不方便换了, 所以应该一开始就明确自己可以适应怎么样的键盘.</p>

<ul>
<li>最主要的差异是笔记本键盘上的Fn键, 有的在左下的最外侧, 有的在Win和Alt键中间的位置(接近台式机键盘), 我一般要求必须是后一种, 因为会经常在台式机上操作, 在两种习惯上切换太别扭了.</li>
<li>方向键的大小, 有些设计的比较小, 我更倾向和其它键一样大小的设计.</li>
<li>键盘整体大小, 这个主要在小于14英寸的笔记本上需要注意, 更大的键盘面积当然用着更爽.</li>
<li>键帽是凹的还是平的, 凹的感觉更接近一般台式机的键盘, 平的用起来可能会有敲击时打滑的感觉, 特别是用指甲敲击时, 这个可以用加个键盘膜补足, 不过哪会是另外一种怪怪的感觉, 需要适应一段时间.</li>
<li>键距我感觉差别不是很明显, 还是整体面积更重要, 一般14寸的没啥特别明显的差别.</li>
<li>键程, 笔记本的都是超薄的, 击键的距离肯定比台式机短很多.</li>
</ul>


<h3>外观总结</h3>

<p>一般很难有能完全做到上面所说的最好的设计, 就算有, 可能也会在价格, 体积, 重量上有对应的改变. 所以只能根据各自的首要需求做出取舍.</p>

<p>选择型号的时候, 一般主要型号范围内全部使用一样的模具, 在了解了其中一个型号的外观后, 其它详细型号的外观差异基本没有.</p>

<p>每个品牌的型号规则差别很大, 可以自行了解, 辨别起来还是很容易的.</p>

<h2>内在</h2>

<h3>电池,功耗和续航</h3>

<p>这部分和笔记本的主要用途息息相关, 将能决定其它的主要配件和价格.</p>

<p>现在主流14寸笔记本续航时间在2-3小时之间, 具体看使用情况, 玩游戏最耗电, 看文章, 运行更少的程序, 开笔记本品牌商场提供的省电软件耗电会低.</p>

<p>电池现在基本都是锂电池了, 我不清楚笔记本是否大量使用锂聚合物电池, 不过仍旧属于锂电池, 对续航影响差距不大, 需要更长的续航时间就需要更大的电池. 聚合物电池相对安全性好些, 不会有爆炸的情况.</p>

<p>但是仍旧应该在合适的温度下使用笔记本.</p>

<p>如果没有特别强烈的需要电池续航的话, 可以不考虑太苛刻的电池和续航时间, 事实也是很多人仅仅把笔记本当作<strong>方便移动的台式机</strong>来使用.</p>

<p>功耗一般和机器性能有关, 在满负荷运转下, 性能越高, 功耗越高. 对应的发热也越高, 对散热要求会更高.</p>

<p>笔记本内部设计的十分紧凑, 所以应清楚自己的使用环境, 选择合适的配置, 新机器散热可能没问题, 但是长期使用, 散热风道积聚灰尘之后散热能力会下降, 在过热的环境下笔记本除了可能会罢工外, 还有损坏的风险.</p>

<h3>显卡</h3>

<p>显卡关乎游戏性能, 更好的显卡能流畅的运行高需求的游戏, 同时功耗, 发热量也上来了.</p>

<p>大概的显卡范围一般比较容易确定, 如果要在相近的几个型号中选择, 可以参考这个<a href="http://www.notebookcheck.net/Mobile-Graphics-Cards-Benchmark-List.844.0.html">Laptop Video Graphics Cards - Benchmark List</a>.</p>

<p>一般游戏都是使用特定DirectX版本, 而显卡性能测试软件3DMark系列分别针对不同的DirectX版本, 其对应关系如下:</p>

<ul>
<li>DirectX 9 -> 3DMark05 和 3DMark06</li>
<li>DirectX 10 -> 3DMark Vantage</li>
<li>DirectX 11 -> 3DMark 11</li>
</ul>


<p>所以可以先考虑主要玩的游戏所需要的DirectX版本, 然后考虑对应得分更高的显卡. 当然价格也是很重要的因素.</p>

<p>这里有一个笔记本显卡分级<a href="http://www.notebookcheck.net/Comparison-of-Laptop-Graphics-Cards.130.0.html">Comparison of Laptop Graphics Cards</a>, 给出了高端游戏显卡, 中端, 中低端, 低端, 办公用等显卡和相关的性能测试结果.</p>

<p>可以从中看到, 现在Intel HD Graphics 4000显卡, 也就是Intel酷睿i系列第三代处理器集成的显卡, 已经能达到中低端显卡的范畴了, 和NVIDIA GeForce GT 620M, NVIDIA GeForce GT 525M, NVIDIA GeForce GT 330M, AMD Radeon HD 7450M在同一范围, 如果你的选择范围在这个里面, 可以考虑一下CPU集成显卡.</p>

<p>其实这么说来, Intel超级本的游戏性能对付一般游戏还是可以接受的.</p>

<h3>内在总结</h3>

<p>没有提CPU? 我感觉CPU这东西是一分钱一分货, 性能参考<a href="http://www.notebookcheck.net/Mobile-Processors-Benchmarklist.2436.0.html">Comparison of Mobile Processors (CPU Benchmarks)</a>. 一般主流价位的笔记本, 其CPU性价比最高.</p>

<p>内存一般看主流, 现阶段比较尴尬, 因为普遍笔记本能识别的只有3G左右内存, 等64位Windows和相关的软件流行的时候才能使用更大的内存.</p>

<p>硬盘基本什么大小的都够用, 固态, 或者混合硬盘相应的价格更高, 性能更好, 还是一分钱一分货.</p>

<h2>购买</h2>

<p>现实不是决定选择什么型号的机器然后购买就完了.</p>

<h3>卖场</h3>

<p>去卖场能够看到真实的机器, 上面的外观方面主要是到卖场是亲身感受为主, 但是卖场还是会存在各种坑人的事.</p>

<ul>
<li>临到提货的时候说没货了, 然后建议你换个型号, 很多被坑就是这样的.</li>
<li>把标配的鼠标, 电脑包当成赠品, 并依次和买家讨价还价. 实际上一般除了标配的外, 商家还会免费送屏幕膜, 外壳膜, 鼠标垫, 清洁套装, 笔记本散热器之类的, 只要你真的购买.</li>
<li>有些商家会有一些存货, 不太容易处理, 所以会不遗余力的给你推荐某个机型, 这些机型可能确实有些不错的特点, 但是不建议买, 看看就行了, 一般这样的机型它的市场价格已经比商家的报价低很多了.</li>
<li>商家的牌子可以完全无视, 什么旗舰店, 总店, 和他们的信誉完全没有关联, 不坑你坑谁, 还是自己有主意靠谱.</li>
</ul>


<p>在卖场一定要坚持一个原则, 不在卖场内做决定, 卖场内的商家会十分的热情, 环境也比较吵杂, 闷热, 这种情况下做出决定往往就是个不怎么好的决定, 建议在出了卖场后, 休息或者吃饭的时候再决定, 有朋友一起更好.</p>

<p>在卖场中一定要注意防盗, 人多的地方什么事都可能发生, 特别是自己的注意力在别的东西上时, 最好多人一起, 一个人和商家交涉, 另一个打酱油.</p>

<p>逛卖场会比较累, 最好随身携带水, 吃饭也不要吃太多, 人在累的时候最脆弱.</p>

<h3>网购</h3>

<p>网购主要是指在淘宝上网购, 因为淘宝上的规则目前都是到买家有利, 所以也不失为一个渠道. 网购的货源比较多, 卖场中哪些缺货的事不存在. 在自己家, 做决定也不是在紧张的环境中.</p>

<p>主流品牌的行货笔记本都有全国联保, 一般淘宝商城的都是行货. 如果你很在乎质保期限, 一定要商家开单据证明购买时间. 否则一般售后会按照出厂时间 + 3个月作为购买时间. 有些品牌的售后要求必须是发票才能证明购买时间, 请了解具体品牌的售后政策.</p>

<p>售后的工作流程会很麻烦, 时间也长, 就算说的再好的售后, 也难免遇到自己有特殊情况. 所以哪些品牌宣传中所谓的售后可以不用过多考虑, 我更在乎的是产品的质量, 什么售后补足产品质量是扯淡, 钱都收了, 做的好是人情, 耍赖是本份.</p>

<p>网店如果对买入的不满意, 可以要求退货或者换货, 退换的时间甚至可以达到1个月左右(利用淘宝有利买家的规则).</p>

<p>寄回的邮费可能需要自己出, 如果对自己的选机型的能力不够自信, 又觉得来回折腾又费心, 那么就不建议考虑网购了.</p>

<p>利用淘宝的规则还有卖家的承诺, 完全可以做到很好的维护自己的权益. 其实重点是买家可以在淘宝上给差评, 低评分, 举报等. 就算交易完成了, 还可以拍些东西给差评, 然后说没收到货, 拒绝支付.</p>

<p>这方面买家骚扰的成本比卖家反骚扰的成本低多了, 比卖场的情况好.</p>

<p>网购一般标配送的东西都齐全, 但是额外的可能就没有了, 毕竟价格低嘛, 要的话可以和卖家交涉.</p>

<p>目前笔记本的网购配送主要是顺丰快递, 这个快递还是很可靠的, 无论是速度还是对包裹的保护上.</p>

<h2>验机</h2>

<p>在卖场购买的话, 建议头天晚上决定好, 第2天上午在中意的几家当中交涉, 然后午饭后购买, 验机, 速度快的话, 能在下午6点前回家吃晚饭.</p>

<p>网购的话, 一般有好几天确认的时间, 还是比较宽裕的.</p>

<p>多数情况到这一步基本都没啥问题了, 但是难免有些个体差异, 如果让自己遇到了当然是越早发现越好, 所以验机步骤不能少.</p>

<p>拿到机器后先看包装和外观</p>

<ol>
<li>外包装一般侧面会有一块白底黑字的贴纸, 上面标的具体型号, 可以确认是否是自己购买的, 一般上面有关键的配置信息.</li>
<li>卖场中购买的话, 一般厂家或代理会给商家有返点, 商家会提前把机器拆开, 拿走里面的保卡作为证明, 网购的话具体问商家, 如果加了配件的话也可能会拆过.</li>
<li>看外包装有没有明显被碰撞的地方, 凹陷什么的.</li>
<li>拆开, 里面的包装纸是泡沫塑料的, 可以垫桌子上.</li>
<li>看主机的外壳是否有<strong>划痕</strong>, 对着光看, 还有屏幕和键盘那一面.</li>
<li>主机掌托可能会贴一些厂商的标, 比如Intel, 上面的燃料有些是指甲扣不掉的, 有些能扣掉.

<ul>
<li>我这是Intel, nVIDIA的扣不掉.</li>
<li>nVIDIA Optimus上面的能扣掉.</li>
</ul>
</li>
<li>看电池和主机上电池触点是否有<strong>磨损的痕迹</strong>, 出厂测试会留下一次痕迹.</li>
<li>后盖螺丝是否有<strong>螺丝刀的痕迹</strong>, 工厂的加工很精细, 一般不会有明显螺丝刀的痕迹.</li>
</ol>


<p>然后装上电池, 接通电源, 装系统或者启动.</p>

<p>先看看屏幕是否有亮点, 暗点, 万里有个一的话就和卖家交涉. 测试软件可以使用<a href="https://www.google.com.hk/search?ie=UTF-8&amp;oe=UTF-8&amp;sourceid=navclient&amp;gfns=1&amp;q=everest">EVEREST</a>, 工具菜单中有显示器测试.</p>

<p>接下来主要的接口测试, 比如USB, 网线接口, 耳麦接口, 读卡器, 有光驱的试试光驱弹出, 关闭. 有条件的还可以测试VGA或者HDMI接口.</p>

<p>网络部分WiFi, 有蓝牙的用手机试试蓝牙.</p>

<p>内部的硬件检测可以使用上面提到的<a href="https://www.google.com.hk/search?ie=UTF-8&amp;oe=UTF-8&amp;sourceid=navclient&amp;gfns=1&amp;q=everest">EVEREST</a>.</p>

<p>或者是<a href="http://www.ludashi.com/">鲁大师</a>, 比较简单直观, 有一个界面可以快速以习惯的词汇描述的硬件配置.</p>

<p>如果要跑分一般是<a href="http://www.3dmark.com/zh-hans/">3DMark</a>.</p>

<h2>附:关于Intel的超级本</h2>

<p>现在超级本还不是很多, 相信不远的未来这方面会多出很多. 所以有必要提提超级本.</p>

<p>超级本是Intel提出的概念, 对消费者来说就是Intel要求品牌厂商的笔记本至少要满足一些条件, 就可以使用超级本来做宣传, 也就是一些保底的要求, 对消费者来说主要是下面这些:</p>

<ul>
<li>薄, 最多2cm.</li>
<li>轻, 最多1.4kg.</li>
<li>超长待机, 至少5-8小时.</li>
<li>快速启动, 最多20秒.</li>
<li>快速唤醒, 最多4秒.</li>
</ul>


<p>这些是外在特点, 具体这些还需要很多相关内在的变化才能做到.</p>

<p>启动时间得依据实际的软件使用情况, 可能没有那么短, 不过一般出厂预装的软件环境应该是可以达到的.</p>

<p>综合起来说就是对付一般游戏, 典型的应用环境完全足够, 现阶段的价格还比较高, 不过未来成本降低的情况下相对传统的笔记本很有竞争力的, 所以我也相信它会在未来成为热点.</p>

<p><a href="http://www.intel.com/cn/ultrabook/">Intel超级本宣传页</a></p>

      <p><a href="http://netwjx.github.com/blog/2012/10/12/buy-notebook-memo/#comments">查看评论</a></p>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在Firefox下设置location不生效]]></title>
    
      <category term="Error" />
    
      <category term="Firefox" />
    
      <category term="Javascript" />
    
      <category term="Memo" />
    
      <category term="jQuery" />
    
    <link href="http://netwjx.github.com/blog/2012/10/01/set-location-is-invalid-in-firefox/"/>
    <author>
      <name><![CDATA[netwjx]]></name>
      <uri>http://netwjx.github.com/</uri>
    </author>
    <published>2012-10-01T16:26:00+08:00</published>
    <updated>2012-10-01T16:26:00+08:00</updated>
    <id>http://netwjx.github.com/blog/2012/10/01/set-location-is-invalid-in-firefox</id>
    <content type="html"><![CDATA[<p>项目中使用的窗口组件加载内容是使用<code>iframe</code>实现的, 以前遇到的各种问题总是在IE下, 但是之前又发现一个很奇怪的问题, 仅在Firefox下出现.</p>

<p>具体表现为窗口组件关闭时再将相关的父级或<code>iframe</code>重定向到新的地址, 结果在Firefox下没看到重定向, 也没在错误控制台看到任何错误信息.</p>

<p>前提: 以下所有的都不涉及跨域的问题, 只描述Firefox下运行的情况, 目前我的Firefox版本是15.0.1.</p>

<p>关键结构如下, <code>$</code>表示jQuery:</p>

<p>``` html</p>

<script>
    function dialog()
        var ifrm = $('<iframe id="Dialog1">').appendTo('body')[0];
        ifrm.openWindow = window;
        // ...

    function dialogClose(frameElement, url)
        $(frameElement).remove();
        (frameElement.openWindow || window).location = url;
</script>




<iframe id="main">
    <button onclick="parent.dialog()">打开</button>

<!-- 打开窗口时 -->
<iframe id="Dialog1">
    <button onclick="parent.dialogClose(frameElement, 'other.html')">关闭并重定向 #main 的地址</button>
```

一些需要说明的实际情况

-   窗口是指顶级页面的`window`和`iframe`中的`window`. 窗口下是指`window.document`和下面的所有DOM元素.
-   在`#main`中`parent.dialog()`实际是自动探测或指定在哪个父级打开窗口.
    -   在`Dialog1`中`parent.dialogClose`实际是哪个窗口打开就重定向那个窗口, 或者指定重定向哪个窗口.
-   `<iframe id="Dialog1">` 是按照实际打开的情况自动分配的id, 这里使用固定的id方便说明.


上述代码运行后的结果没有产生重定向, 加了`try catch`后:

    An error occurred throwing an exception

出错行在 `(frameElement.openWindow || window).location = url;`.

<!-- more -->

怀疑可能是不能识别默认属性, 换成`location.href`试试

    "Component returned failure code: 0x804b000a (NS_ERROR_MALFORMED_URI) [nsIDOMLocation.href]"

在[MDN window.location](https://developer.mozilla.org/en-US/docs/DOM/window.location#Methods)发现有`assign`和`replace`也可以用来重定向

`assign`正常执行了, 但是`replace`

    "Component returned failure code: 0x804b000a (NS_ERROR_MALFORMED_URI) [nsIDOMLocation.replace]"

想到可能和上下文有关吧, 试试用目标`window.setTimeout`, 传入字符串参数, 执行正常了.

``` js
    (frameElement.openWindow || window).setTimeout('location="' + url + '"', 0)
```

上述所有尝试的代码示例:

<iframe style="width: 100%; height: 510px" src="http://jsfiddle.net/sLDmC/69/embedded/js,resources,html,css,result/light/"></iframe>

-   所有`iframe`加载的页面都在这一个里面, 根据不同的Url Query执行不同的代码.
-   `openWindow.`表示重定向的是按钮所在窗口.
-   水平分割线下面的是重定向当前窗口.
-   蓝线以下是一些输出的信息, 以及发生异常时的异常信息.
-   重定向成功会显示一个红色背景的成功, 发生异常会在日志中显示出来.
-   重定向成功后, **Result**标签页右边有个**Run again**可以恢复开始状态.


另一方面
--------

虽然问题算是解决了, 但是为什么在哪种情况会发生异常, 仅在Firefox下. 还有没有其它可以回避这个异常的方式.

想想上面代码有些怪怪的就是, 先从DOM树中移除了`iframe`, 如果想办法调整一下移除和重定向的顺序, 就有了下面的示例:

<iframe style="width: 100%; height: 510px" src="http://jsfiddle.net/sLDmC/68/embedded/js,resources,html,css,result/light/"></iframe>

可以看到所有的重定向都成功了.


总结
----

-   尽量避免使用`iframe`.
-   尽量使用一种方式进行跨`iframe`间的调用, 比如setTimeout方式.
    -   调用参数尽量用基本类型, 比如字符串, 数字, 复杂的可以用JSON格式字符串.
-   尽量规避从DOM树移除当前`iframe`后还需要执行代码的情况.
    -   实在无法规避就需要十分注意前后的执行顺序.

当然如果和我一样是维护原有项目, 有很多地方不能随便修改, 遇到麻烦就只能大量摸索了. 比如上文中的尝试.


附:使用location的assign()和replace()的注意点
--------------------------------------------

在`iframe`中`location.assign()`必须确保当前`iframe`已加载一个页面, 不然会发生错误

    "Component returned failure code: 0x804b000a (NS_ERROR_MALFORMED_URI) [nsIDOMLocation.assign]"

对于已加载页面的则正常, 例子:

<iframe style="width: 100%; height: 370px" src="http://jsfiddle.net/gQvmx/13/embedded/js,resources,html,css,result/light/"></iframe>


      <p><a href="http://netwjx.github.com/blog/2012/10/01/set-location-is-invalid-in-firefox/#comments">查看评论</a></p>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[关于PM2.5]]></title>
    
      <category term="Live" />
    
      <category term="Memo" />
    
    <link href="http://netwjx.github.com/blog/2012/08/26/about-pm2-dot-5/"/>
    <author>
      <name><![CDATA[netwjx]]></name>
      <uri>http://netwjx.github.com/</uri>
    </author>
    <published>2012-08-26T14:18:00+08:00</published>
    <updated>2012-08-26T14:18:00+08:00</updated>
    <id>http://netwjx.github.com/blog/2012/08/26/about-pm2-dot-5</id>
    <content type="html"><![CDATA[<p><link href="http://netwjx.github.com/stylesheets/mytable.css" rel="stylesheet" type="text/css"/></p>

<p>这里整理了一些关于空气质量主要指标PM2.5的相关资料, 主要参考自<a href="http://songshuhui.net/archives/tag/pm2-5">科学松鼠会关于PM2.5相关的文章</a>, 和<a href="http://blogs.america.gov/mgck/2012/06/12/pm/">雾谷飞鸿关于空气质量的文章</a>, 只是将我认为关键点用简短的话列出来.</p>

<ul>
<li>空气污染主要检测可吸入颗粒物, 臭氧, 二氧化碳, 二氧化硫.</li>
<li>颗粒物对人体影响是是最直接和严重的.</li>
<li>小于10微米(下称PM10)的颗粒物就可能被吸入肺, 而小于2.5微米(下称PM2.5)的穿透力更强, 更不易被粘膜吸附或咳嗽排出.</li>
<li>PM10主要来源于机械过程, 包括建筑施工, 道路扬尘和风.</li>
<li>PM2.5主要来源于燃烧, 包括木材, 烟草, 煤炭, 柴油, 汽油.</li>
<li>PM2.5比PM10能够吸附更多的有毒物质, 对呼吸系统和心血管系统危害大于PM10.</li>
<li>PM2.5也极易吸附有机污染物和重金属, 使致癌和基因突变几率明显提高.</li>
<li>所以联合国世界卫生组织(下称WHO)关于<strong>颗粒物空气质量准则(AQG)</strong>依据是PM2.5而不是PM10.</li>
<li>空气污染物检测指标单位是<strong>μg/m<sup>3</sup> </strong>, 即<strong>微克/立方米</strong>.</li>
<li>一般播报的是空气污染指数(API), 其相应的PM2.5浓度见下文的表格.</li>
<li>背景PM2.5浓度在3-5之间, 即没有人为污染, 自然情况下的浓度.</li>
<li>PM2.5浓度高的最明显的表现是<strong>天空变成灰蒙蒙一片</strong>, 空气能见度降低.</li>
</ul>


<!-- more -->


<h2>空气污染指数(API)和PM2.5浓度对应的限值</h2>

<table class="mytable">
    <tr>
        <td>PM2.5浓度<br/>μg/m<sup>3</sup></td>
        <td>15</td>
        <td>40</td>
        <td>65</td>
        <td>150</td>
        <td>250</td>
        <td>350</td>
        <td>500</td>
    </tr>
    <tr>
        <td>API</td>
        <td>50</td>
        <td>100</td>
        <td>150</td>
        <td>200</td>
        <td>300</td>
        <td>400</td>
        <td>500</td>
    </tr>
    <tr>
        <td>国内标准</td>
        <td style="background:#00e319">优</td>
        <td style="background:#fefe1f">良</td>
        <td style="background:#ff7d0a" colspan="2">轻微污染</td>
        <td style="background:#ff0302">中度污染 API&lt;250</td>
        <td style="background:#7d0122" colspan="2">重度污染 大于250</td>
    </tr>
    <tr>
        <td>美国标准</td>
        <td style="background:#00e319">良好</td>
        <td style="background:#fefe1f">中等</td>
        <td style="background:#ff7d0a">对敏感人群不健康</td>
        <td style="background:#ff0302">不健康</td>
        <td style="background:#98024b">非常不健康</td>
        <td style="background:#7d0122" colspan="2">有毒害</td>
    </tr>
    <tr>
        <td>香港标准</td>
        <td style="background:#00e319">轻微 API&lt;25<br/>中等 API&lt;50</td>
        <td style="background:#fefe1f">偏高</td>
        <td style="background:#ff0302" colspan="2">甚高</td>
        <td style="background:#7d0122" colspan="3">严重</td>
    </tr>
    <tr>
        <td>加拿大标准</td>
        <td style="background:#00e319">良好 API&lt;25<br/>中等 API&lt;50</td>
        <td style="background:#fefe1f">较差</td>
        <td style="background:#7d0122" colspan="5">极差</td>
    </tr>
</table>


<p>例如: PM2.5在15到40之间, 那么API就在50到100之间, 按照国内标准评级的话, 就是良.</p>

<h2>WHO关于颗粒物空气质量准则和过渡期目标</h2>

<p>由于优先选择PM2.5, 所以PM10的就不列出来了, 想看可以看开头参考的文章.</p>

<table class="mytable">
    <tr>
        <th>&nbsp;</th>
        <th>PM2.5 μg/m<sup>3</sup> 年均</th>
        <th>PM2.5 μg/m<sup>3</sup> 日均</th>
    </tr>
    <tr>
        <td>过渡期-1</td>
        <td>35</td>
        <td>75</td>
    </tr>
    <tr>
        <td>过渡期-2</td>
        <td>25</td>
        <td>50</td>
    </tr>
    <tr>
        <td>过渡期-3</td>
        <td>15</td>
        <td>37.5</td>
    </tr>
    <tr>
        <td>准则(AQG)</td>
        <td>10</td>
        <td>25</td>
    </tr>
</table>


<h2>一张图片</h2>

<p>2001-2006年卫星图片显示的全球PM2.5均值</p>

<p><img src="http://songshuhui.net/wp-content/uploads/2011/08/483910main1_Global-PM2.5-map-670-600x300.jpg" width="618" height="309" title="2001-2006年卫星图片显示的全球PM2.5均值" ></p>

<p>上图来自 <a href="http://www.nasa.gov/topics/earth/features/health-sapping.html">New Map Offers a Global View of Health-Sapping Air Pollution</a></p>

<p>国内尚没有执行WHO的颗粒物空气质量准则和过渡期目标(拟于2016年实施过渡期-1的目标), 但是北京和东 南沿海各个省份已经在发布PM2.5空气质量指数, 可以自行找当地的环保部门网站查看.</p>

<p>智能手机可以找找有没有当地的空气质量报告软件, 有些地方性的手机软件有PM2.5的指数, 比如我现在用的是<a href="https://play.google.com/store/apps/details?id=com.cas.airquality">全国空气质量</a>.</p>

<h2>关于防护</h2>

<p>颗粒物分类, 包括PM2.5和PM10</p>

<ul>
<li>非油性颗粒物, 一般记作N, 典型的有水泥粉尘.</li>
<li>油性颗粒物, 一般记作P, 典型的有厨房油烟, 汽车尾气, 沥青烟雾.</li>
</ul>


<p>避免接触为上策, 没办法的时候只能先用口罩.</p>

<p>无论国内还是国外检测口罩防护效果使用的都是氯化钠气溶胶和石蜡油, 其粒径在0.02-2微米到之间, 捕获率是按照最小计算, 而不是平均值, 所以可以理解为对PM2.5的防护能力.</p>

<p>NiOSH标准, 测试空气流量：85L/分钟</p>

<table class="mytable">
    <tr>
        <th>等级</th>
        <th>捕获率</th>
    </tr>
    <tr>
        <td>N95 R95 P95</td>
        <td>≥95%</td>
    </tr>
    <tr>
        <td>N99 R99 P99</td>
        <td>≥99%</td>
    </tr>
    <tr>
        <td>N100 R100 P100</td>
        <td>≥99.97%</td>
    </tr>
</table>


<ul>
<li>N针对非油性颗粒物.</li>
<li>R和P针对油性和非油性颗粒物.</li>
<li>R用于油性颗粒物防护使用时间不能超过8小时.</li>
<li>P的使用时间遵循制造商的建议.</li>
</ul>


<p>中国GB2626-2006标准, 测试空气流量：85L/分钟</p>

<table class="mytable">
    <tr>
        <th>等级</th>
        <th>捕获率</th>
    </tr>
    <tr>
        <td>KN90 KP90</td>
        <td>≥90%</td>
    </tr>
    <tr>
        <td>KN95 KP95</td>
        <td>≥95%</td>
    </tr>
    <tr>
        <td>KN100 KP100</td>
        <td>≥99.97%</td>
    </tr>
</table>


<ul>
<li>KN针对非油性颗粒物.</li>
<li>KP针对油性颗粒物.</li>
</ul>


      <p><a href="http://netwjx.github.com/blog/2012/08/26/about-pm2-dot-5/#comments">查看评论</a></p>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[移动电源备忘]]></title>
    
      <category term="Memo" />
    
      <category term="Portable" />
    
      <category term="Power" />
    
    <link href="http://netwjx.github.com/blog/2012/07/19/portable-power-memo/"/>
    <author>
      <name><![CDATA[netwjx]]></name>
      <uri>http://netwjx.github.com/</uri>
    </author>
    <published>2012-07-19T21:17:00+08:00</published>
    <updated>2012-07-19T21:17:00+08:00</updated>
    <id>http://netwjx.github.com/blog/2012/07/19/portable-power-memo</id>
    <content type="html"><![CDATA[<p>买了移动电源之后就计划写点关于移动电源的事, 翻看todo的时候才想起来该把这个补上.</p>

<p>因为有2个手机和NDS, 手机一个是之前提过的黑莓8310, 另外一个是小米手机, 而平时玩小米手机时间挺多, 再加上临近过年, 要回家, 路上肯定会玩手机, 很可能电力不足.</p>

<p>在淘宝上搜移动电源的话, 品牌主要是<a href="http://www.yoobao.com/">羽博</a>和<a href="http://www.pisen.com.cn/">品胜</a>的, 外观时尚, 体积和电容量给设备充一次是没问题.</p>

<p>在电玩网站发现还有<a href="http://www.powerunite.com.cn/">联力众(续航大师)</a>, <a href="http://www.sino-ele.cn/">西诺电子</a>, <a href="http://www.tposchina.com/">TPOS</a>, <a href="http://www.fanmei.net/">微发</a>, 因为是给电玩充电的, 所以电容量都比较大, 相应体积重量也提高了.</p>

<p>另外还有淘宝聚划算和淘宝试用中心还有一些我感觉很冷门的品牌, 如力杰, 还是做时尚外观, 电容量一般充一次没问题.</p>

<p>移动电源目前都是锂电池, 因为锂电池有可能发生爆炸, 所以我专门找了些关于锂电池拆机的评测, 主要在电玩网站上有, 下面是我根据回忆整理的一些信息.</p>

<!-- more -->


<h2>锂电池和聚合物电池</h2>

<p><img class="left" src="http://image.made-in-china.com/2f0j00QMbtBfNRaIqk/Li-ion-Battery-Cylinder-18650-18490-17650-14500-.jpg" width="260" title="18650锂电芯" alt="18650锂电芯"></p>

<p><strong>锂电池</strong> 指的是传统的锂离子电池, 一般移动电源中使用的锂电池是18650圆柱形锂电芯, 18650的意思是18mm直径, 65mm高度的圆柱形.</p>

<p>羽博和品胜的移动电源使用的是这个电芯, 多数笔记本也使用的是这样的电池.</p>

<p>在高温中工作是一定会爆炸的, 漏液什么的现在应该几乎见不到了.</p>

<hr />

<p><img class="right" src="http://i05.c.aliimg.com/img/ibank/2011/502/186/449681205_886818038.jpg" width="260" title="ATL聚合物电芯" alt="ATL聚合物电芯"></p>

<p><strong>聚合物电池</strong> 指的是聚合物锂离子电池, 还是锂电池, 只是一般聚合物电池的特性可以做成片状, 现在新的手机哪些高容量电池都是这种的. 而且聚合物电池不会爆炸,</p>

<p>电玩网站提到的移动电源基本都使用的是ATL电芯.</p>

<p>我看过一个视频是把电池放下面点火的铁盘上加热, 最后膨胀, 冒烟, 但是没有爆炸. 对照视频中的锂离子电池在加热到一定程度就爆炸, 电池残骸飞出去了.</p>

<h2>移动电源的电容量</h2>

<p>电池的电容量一般是mhA标注, 1000mhA的意思是以1000mA电流, 电池的额定电压放电, 能持续放电1小时.</p>

<p>考虑电容量不能简单的除以现在电池的容量, 应按照放电时间来计算是比较靠谱的.</p>

<p>比如我的小米手机充电器的放电是5V 1A, 充满1930mhA的小米手机电池, 需要2小时40分钟左右.</p>

<p>我购买的微发移动电源, 电容量是8800mhA, 因为锂电池的放电电压不足5V, 所以会有升压电路. 如果要提供5V 1A的输出, 输出电流可能在1300mhA左右, 因为锂电池会随着持续放电而电压降低, 一般是从4.2V到3.2V, 低于3V会使电芯受损, 所以一般都有过放电保护, 越往后需要的输出电流越多.</p>

<p>使用1300mhA计算, 那么8800mhA以5V 1A输出能持续放电6小时46分钟左右, 用总放电时间除以充满一次点需要的时间, 结果就是2次半左右, 以我实际使用的测试情况来计算也是如此.</p>

<p><blockquote><p></p></p><p><p>简单估算方法: 充满1000mhA的电池, 移动电源需要消耗大概1800mhA的电量.</p></p><p><p></p></blockquote></p>

<h2>移动电源的输出效率</h2>

<p>简单的可以理解为转换效率高能对电池利用的更多, 比如微发8800mhA电源在1A的输出下可以达到97%的输出效率. 一般在90%以上为佳.</p>

<p>这个参数一般看不到, 最好是看看评测, 一般移动电源有一个最佳的放电电流, 能够得到十分高的转换效率, 在这种情况下工作对移动电源利用的最多.</p>

<p>和这个参数关联最大的是移动电源的电路用料, 这个我不是很熟悉, 就是看到微发的拆解中提到钽电容, 可以作为参考.</p>

<h2>接口, 线材, 设计</h2>

<p><img class="right" src="http://image.shutterstock.com/display_pic_with_logo/427411/427411,1277141040,1/stock-photo-usb-mini-usb-and-micro-usb-cable-55662274.jpg" width="300" title="USB, Mini-USB, Micro-USB" alt="USB, Mini-USB, Micro-USB"></p>

<p>移动电源上的接口最好是标准USB口, 大, 牢固, 也很耐用. 一般还有独立的充电接口, 会为了和放电接口区分开而使用不同的接口, 我觉得最好是其它USB接口, 这样比较通用, 比如目前流行的MicroUSB, 以及以前挺流行的MiniUSB. MicroUSB更好点, 它更牢固.</p>

<p>充电线一般有1拖2 + N种转接头, 或者是1拖2固定接口, 我建议用固定接口, 因为转接头可能会有接触不良, 而成为最薄弱的环节.</p>

<p>再者现在很多设备充电线都是USB口, 移动电源的充电线不一定总是能用到, 针对没有USB口充电线的设备买个对应的充电线就行了.</p>

<p>设计其实没什么好说的, 高亮LED用于照明, 接口尽量设计为方便放包中的同时给设备充电为好.</p>

<h2>总结</h2>

<p>以前看的时候羽博和品胜还没有明显能确定是聚合物电芯的移动电源, 现在应该都有了吧, 这个得找具体的评测.</p>

<p>当时我购买的是微发8800mhA的, 但是并不推荐现在仍旧购买这个, 因为现在已经有超过10000mhA的移动电源了.</p>

<p>电容量篇说过如何评估移动电源能充电的次数, 一般越大越重, 体积也越大, 选购应先确定一个理想的电容量范围, 然后就是自己决定外观接口设计, 品牌, 电芯类型这些东西.</p>

<p>电池这个东西是一分钱一分货, 只要不是特别去挑便宜, 一般不会被骗到.</p>

<p>虽然聚合物电池不会爆炸, 但是高温环境电池还是会膨胀, 也会影响到电器性能的, 所以应该减少和避免移动电源和电子设备在高温环境中.</p>

<h3>附</h3>

<p>在找这些资料的时候, 还发现有人自己做移动电源, 用的都是上乘的材料, 主要是外壳看起来比较粗糙, 后来的好很多, 有开淘宝店卖自己做的电源, 有兴趣的可以看看. <a href="http://shop67813373.taobao.com/">小于电源</a></p>

<p>文中图片来自搜索引擎找到的, 懒得自己处理, 上面的水印还在, 不是我可以给做广告啊.</p>

      <p><a href="http://netwjx.github.com/blog/2012/07/19/portable-power-memo/#comments">查看评论</a></p>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[服装布料常识]]></title>
    
      <category term="Live" />
    
      <category term="Memo" />
    
    <link href="http://netwjx.github.com/blog/2012/07/15/garment-fabric-knowledge/"/>
    <author>
      <name><![CDATA[netwjx]]></name>
      <uri>http://netwjx.github.com/</uri>
    </author>
    <published>2012-07-15T11:39:00+08:00</published>
    <updated>2012-07-15T11:39:00+08:00</updated>
    <id>http://netwjx.github.com/blog/2012/07/15/garment-fabric-knowledge</id>
    <content type="html"><![CDATA[<p>平时买衣服发现有很多的布料种类, 还有很多别名, 各自的特性, 舒适也总搞不清, 这里整理一些我所知道的一些布料和特性.</p>

<h2>棉</h2>

<p>棉(Cotton) 是天然植物纤维, 日常使用的最多的一种, 柔软, 穿着舒适, 吸湿, 透气, 弹性几乎没有, 容易折皱, 需要熨烫才能弄平, 可以机洗, 必然会缩水.</p>

<p>一般洗多次之后表面会起毛, 根据材料和织法, 轻重程度不同.</p>

<p>容易染色, 白色的不能和褪色的衣物一起洗, 有些衣服图案使用的印染技术不好图案会花, 发粘, 我说的是在以纯买的一件.</p>

<!-- more -->


<p>纯棉(Pure Cotton) 一般还会和一些别的纤维混纺, 以拥有两种纤维的特性, 多数是合成纤维.</p>

<h3>莱卡/氨纶/聚氨酯 + 棉</h3>

<p>莱卡(Lycra) 是杜邦公司的注册商标, 也就是只有杜邦授权的才能叫莱卡, 否则都叫氨纶(Spandex).</p>

<p>加了氨纶的服装会弹性十分好, 能防止缩水, 也不会折皱, 吸水后比纯棉干的快, 洗多次后表面起毛比纯棉少很多.</p>

<p>其它特性和纯棉一致. 一般T恤中氨纶会占1%-10%.</p>

<h3>涤纶/聚酯纤维/的确凉 + 棉</h3>

<p>涤纶(Terylene) 聚酯纤维(Polyester Fiber)算是第一大合成纤维, 价格可能比氨纶的便宜点.</p>

<p>弹性比纯棉好, 但是比氨纶的差, 和纯棉混纺会有轻微缩水, 折皱情况和涤纶的含量有关, 越多折皱越不容易, 但是涤纶自身透气吸湿较差. 平时穿着不是很容易折皱, 洗多次后表面起毛少.</p>

<p>其它特性和纯棉一致. 一般T恤中涤纶会占15%左右.</p>

<h3>锦纶/尼龙/聚酰胺纤维 + 棉</h3>

<p>尼龙(Nylon) 聚酰胺纤维(Polyamide Fibre) 是最早的合成纤维, 有光泽, 手感顺滑, 耐磨, 会折皱, 容易产生静电.</p>

<p>一般会用于服装的面料, 比如羽绒服. 或者是需要耐磨的, 比如袜子.</p>

<p>靠近火焰会缩, 燃烧有毛发味, 挺多把这个当羊毛材料用.</p>

<h3>麻/亚麻 + 棉</h3>

<p>亚麻(Flax) 是天然植物纤维, 透气效果极好, 吸湿, 吸水后干的十分快, 纯亚麻的穿着会有刺痒, 一般都是和纯棉混纺, 麻含量从35%到60%都有.</p>

<p>一般亚麻混纺的织法都很粗犷, 有薄而不透的效果.</p>

<p>不耐磨, 所以一般是不能机洗的, 只是现在可以有洗衣袋装起来洗, 避免扭到一起. 手洗的话也不能揉搓和使劲扭. 清洗时也不能使用酸性和碱性洗涤剂, 只能使用专用的中性洗涤剂. 洗多次之后会越来越软.</p>

<h2>莫代尔/再生纤维素纤维</h2>

<p>莫代尔(Modal) 原料是欧洲的灌木林, 和棉一样属于天然纤维, 柔软, 有光泽, 吸湿, 透气较纯棉好一些. 不容易被染色, 几乎不缩水, 特别是加了氨纶后.</p>

<p>一般会和一些合成纤维混纺, 使布料具有一定的弹性. 也有和纯棉混纺.</p>

<p>清洗多次没有明显的变化.</p>

<h2>丝/蚕丝</h2>

<p>丝(Silk) 天然动物纤维, 属于蛋白质纤维(Protein Fibre). 有光泽, 柔软, 透气优于纯棉, 会缩水.</p>

<p>一般也可能加其它合成纤维, 比如氨纶, 以增加弹性, 减少缩水.</p>

<p>只适合手洗, 不可揉搓, 不可拧干, 不能用洗衣粉, 洗衣皂, 香皂等洗涤品. 只能用专门的洗涤剂, 或者洗发水, 不能暴晒, 只能阴干.</p>

<h2>帆布</h2>

<p>帆布(Canvas) 是粗厚的棉织物或麻织物, 日常主要是帆布鞋, 帆布包. 坚硬, 耐磨, 相对于皮革比较透气, 重量轻.</p>

<h2>皮革</h2>

<p>主要是指动物毛皮, 衣服主要有牛皮, 猪皮, 小牛皮, 山羊皮, 绵羊皮. 皮革衣服普遍很贵, 并且只适用于特定场合, 所以基本不普及, 很多场合也有特性更好的合成纤维代替.</p>

<p>另一个大量使用皮革的是鞋, 主要有牛皮, 羊皮, 猪皮, 当然现在也有部分场合被人造革代替.</p>

<p>皮革都需要特别的护理, 不宜浸水, 需要防霉, 防蛀.</p>

<h3>人造革/合成革</h3>

<p>人造革主要是高分子聚合物, 主要原料是PVC, PU, 无纺布.</p>

<p>早期的人造革耐磨都不如皮革, 还有过以人造革假冒皮革的, 但是现代制造出了一些比较好的人造革. 现在多数运动鞋都使用人造革, 比皮革轻, 有光泽, 颜色美观, 耐磨程度相当, 还易于加工, 日常护理相对较皮革容易.</p>

<p>目前人造革就是透气上可能不如皮革, 一般鞋会通过设计透气孔, 搭配其它材料来改善透气.</p>

<p>合成革和人造革据说是不同的东西, 不过我现在区分不出来, 在运动鞋的材料说明上很多也写的有合成革.</p>

<p>白色运动鞋清洗完最好使用吸水纸包裹避光晾干, 也避免鞋面发黄.</p>

<h2>参考</h2>

<p>前文参考了以下网站的资料</p>

<ul>
<li><a href="http://zh.wikipedia.org/">Wikipedia 中文</a></li>
<li><a href="http://en.wikipedia.org/">Wikipedia 英文</a></li>
<li><a href="http://www.hudong.com/">互动百科</a></li>
<li><a href="http://baike.baidu.com/">百度百科</a></li>
</ul>


<p>使用 <a href="http://www.google.com/">Google</a> 搜索.</p>

      <p><a href="http://netwjx.github.com/blog/2012/07/15/garment-fabric-knowledge/#comments">查看评论</a></p>]]></content>
  </entry>
  
</feed>
